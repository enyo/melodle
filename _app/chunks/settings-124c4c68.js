import{w as i}from"./index-94cde96d.js";const a="settings",r=["english","romance","german","solfege"],o=["light","dark","system"],g=t=>r.includes(t),l=()=>{const t={notation:"english",brightness:"system"};if(typeof localStorage>"u")return t;if(typeof navigator<"u")try{navigator.language.startsWith("fr")||navigator.language.startsWith("it")||navigator.language.startsWith("es")||navigator.language.startsWith("pt")||navigator.language.startsWith("ro")?t.notation="romance":navigator.language.startsWith("de")&&(t.notation="german")}catch(n){console.warn(n)}try{const n=localStorage.getItem(a);if(!n)throw"No settings stored";const e=JSON.parse(n);return g(e.notation)||(e.notation=t.notation),e.brightness||(e.brightness=t.brightness),e}catch(n){console.log(`Could not load settings: ${n}`)}return t},s=i(l());s.subscribe(t=>{typeof localStorage<"u"&&localStorage.setItem(a,JSON.stringify(t))});const h={subscribe:s.subscribe,setNotation:t=>s.update(n=>(n.notation=t,n)),switchBrightness:()=>s.update(t=>(t.brightness=o[(o.indexOf(t.brightness)+1)%o.length],t))};export{r as n,h as s};
